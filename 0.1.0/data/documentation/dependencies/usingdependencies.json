{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Once a dependency is registered with the library (see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/RegisteringDependencies"},{"type":"text","text":" for more info),"},{"type":"text","text":" "},{"type":"text","text":"one can access the dependency with the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/Dependency"},{"type":"text","text":" property wrapper. This is most commonly done"},{"type":"text","text":" "},{"type":"text","text":"by adding "},{"type":"codeVoice","code":"@Dependency"},{"type":"text","text":" properties to your feature’s model, such as an "},{"type":"codeVoice","code":"ObservableObject"},{"type":"text","text":", or"},{"type":"text","text":" "},{"type":"text","text":"controller, such as "},{"type":"codeVoice","code":"UIViewController"},{"type":"text","text":" subclass. It can be used in other scopes too, such as"},{"type":"text","text":" "},{"type":"text","text":"functions, methods and computed properties, but there are caveats to consider, and so doing that"},{"type":"text","text":" "},{"type":"text","text":"is not recommended until you are very comfortable with the library."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The library comes with many common dependencies that can be used in a controllable manner, such as"},{"type":"text","text":" "},{"type":"text","text":"date generators, clocks, random number generators, UUID generators, and more."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, suppose you have a feature that needs access to a date initializer, a continuous"},{"type":"text","text":" "},{"type":"text","text":"clock for time-based asynchrony, and a UUID initializer. All 3 dependencies can be added to your"},{"type":"text","text":" "},{"type":"text","text":"feature’s model:"}]},{"type":"codeListing","syntax":"swift","code":["final class TodosModel: ObservableObject {","  @Dependency(\\.continuousClock) var clock","  @Dependency(\\.date) var date","  @Dependency(\\.uuid) var uuid","","  \/\/ ...","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Then, all 3 dependencies can easily be overridden with deterministic versions when testing the"},{"type":"text","text":" "},{"type":"text","text":"feature:"}]},{"type":"codeListing","syntax":"swift","code":["@MainActor","func testTodos() async {","  let model = withDependencies {","    $0.continuousClock = ImmediateClock()","    $0.date.now = Date(timeIntervalSinceReferenceDate: 1234567890)","    $0.uuid = .incrementing","  } operation: {","    TodosModel()","  }","","  \/\/ Invoke methods on `model` and make assertions...","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"All references to "},{"type":"codeVoice","code":"continuousClock"},{"type":"text","text":", "},{"type":"codeVoice","code":"date"},{"type":"text","text":", and "},{"type":"codeVoice","code":"uuid"},{"type":"text","text":" inside the "},{"type":"codeVoice","code":"TodosModel"},{"type":"text","text":" will now use the"},{"type":"text","text":" "},{"type":"text","text":"controlled versions."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/dependencies\/usingdependencies"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Dependencies\/documentation\/Dependencies\/UsingDependencies","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn how to use the dependencies that are registered with the library."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Using dependencies","role":"article","modules":[{"name":"Dependencies"}]},"hierarchy":{"paths":[["doc:\/\/Dependencies\/documentation\/Dependencies"]]},"seeAlsoSections":[{"title":"Essentials","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/RegisteringDependencies","doc:\/\/Dependencies\/documentation\/Dependencies\/LivePreviewTest"],"generated":true}],"references":{"doc://Dependencies/documentation/Dependencies/LivePreviewTest":{"role":"article","title":"Live, preview, and test dependencies","abstract":[{"type":"text","text":"Learn how to provide different implementations of your dependencies for use in the live application,"},{"type":"text","text":" "},{"type":"text","text":"as well as in Xcode previews, and even in tests."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/LivePreviewTest","kind":"article","type":"topic","url":"\/documentation\/dependencies\/livepreviewtest"},"doc://Dependencies/documentation/Dependencies/Dependency":{"role":"symbol","title":"Dependency","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Dependency"}],"abstract":[{"type":"text","text":"A property wrapper for accessing dependencies."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/Dependency","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Dependency"}],"url":"\/documentation\/dependencies\/dependency"},"doc://Dependencies/documentation/Dependencies":{"role":"collection","title":"Dependencies","abstract":[{"type":"text","text":"A dependency management library inspired by SwiftUI’s “environment.”"}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies","kind":"symbol","type":"topic","url":"\/documentation\/dependencies"},"doc://Dependencies/documentation/Dependencies/RegisteringDependencies":{"role":"article","title":"Registering dependencies","abstract":[{"type":"text","text":"Learn how to register your own dependencies with the library so that they immediately become"},{"type":"text","text":" "},{"type":"text","text":"available from any part of your code base."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/RegisteringDependencies","kind":"article","type":"topic","url":"\/documentation\/dependencies\/registeringdependencies"}}}