{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Dependencies are the types and functions in your application that need to interact with outside"},{"type":"text","text":" "},{"type":"text","text":"systems that you do not control. Classic examples of this are API clients that make network"},{"type":"text","text":" "},{"type":"text","text":"requests to servers, but also seemingly innocuous things such as "},{"type":"codeVoice","code":"UUID"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Date"},{"type":"text","text":" initializers,"},{"type":"text","text":" "},{"type":"text","text":"file access, user defaults, and even clocks and timers, can all be thought of as dependencies."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can get really far in application development without ever thinking about dependencies, but"},{"type":"text","text":" "},{"type":"text","text":"eventually they can cause many problems in your code base and development cycle:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Uncontrolled dependencies make it "},{"type":"strong","inlineContent":[{"type":"text","text":"difficult to write fast, deterministic tests"}]},{"type":"text","text":" because you"},{"type":"text","text":" "},{"type":"text","text":"are susceptible to the vagaries of the outside world, such as file systems, network"},{"type":"text","text":" "},{"type":"text","text":"connectivity, internet speed, server uptime, and more."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Many dependencies "},{"type":"strong","inlineContent":[{"type":"text","text":"do not work well in SwiftUI previews"}]},{"type":"text","text":", such as location managers and speech"},{"type":"text","text":" "},{"type":"text","text":"recognizers, and some "},{"type":"strong","inlineContent":[{"type":"text","text":"do not work even in simulators"}]},{"type":"text","text":", such as motion managers, and more."},{"type":"text","text":" "},{"type":"text","text":"This prevents you from being able to easily iterate on the design of features if you make use of"},{"type":"text","text":" "},{"type":"text","text":"those frameworks."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Dependencies that interact with 3rd party, non-Apple libraries (such as Firebase, web socket"},{"type":"text","text":" "},{"type":"text","text":"libraries, network libraries, etc.) tend to be heavyweight and take a "},{"type":"strong","inlineContent":[{"type":"text","text":"long time to compile"}]},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This can slow down your development cycle."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For these reasons, and a lot more, it is highly encouraged for you to take control of your"},{"type":"text","text":" "},{"type":"text","text":"dependencies rather than letting them control you."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"But, controlling a dependency is only the beginning. Once you have controlled your dependencies,"},{"type":"text","text":" "},{"type":"text","text":"you are faced with a whole set of new problems:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"How can you "},{"type":"strong","inlineContent":[{"type":"text","text":"propagate dependencies"}]},{"type":"text","text":" throughout your entire application that is more ergonomic"},{"type":"text","text":" "},{"type":"text","text":"than explicitly passing them around everywhere, but safer than having a global dependency?"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"How can you "},{"type":"strong","inlineContent":[{"type":"text","text":"override dependencies"}]},{"type":"text","text":" for just one portion of your application? This can be"},{"type":"text","text":" "},{"type":"text","text":"handy for overriding dependencies for tests and SwiftUI previews, as well as specific user"},{"type":"text","text":" "},{"type":"text","text":"flows such as onboarding experiences."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"How can you be sure you "},{"type":"strong","inlineContent":[{"type":"text","text":"overrode "},{"type":"emphasis","inlineContent":[{"type":"text","text":"all"}]},{"type":"text","text":" dependencies"}]},{"type":"text","text":" a feature uses in tests? It would be"},{"type":"text","text":" "},{"type":"text","text":"incorrect for a test to mock out some dependencies but leave others as interacting with the"},{"type":"text","text":" "},{"type":"text","text":"outside world."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This library addresses all of the points above, and much, "},{"type":"emphasis","inlineContent":[{"type":"text","text":"much"}]},{"type":"text","text":" more."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/dependencies"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Dependencies\/documentation\/Dependencies","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A dependency management library inspired by SwiftUI’s “environment.”"}],"kind":"symbol","metadata":{"roleHeading":"Framework","externalID":"Dependencies","title":"Dependencies","symbolKind":"module","role":"collection","modules":[{"name":"Dependencies"}]},"hierarchy":{"paths":[[]]},"topicSections":[{"title":"Getting started","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/QuickStart","doc:\/\/Dependencies\/documentation\/Dependencies\/WhatAreDependencies"]},{"title":"Essentials","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/UsingDependencies","doc:\/\/Dependencies\/documentation\/Dependencies\/RegisteringDependencies","doc:\/\/Dependencies\/documentation\/Dependencies\/LivePreviewTest"]},{"title":"Advanced","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/DesigningDependencies","doc:\/\/Dependencies\/documentation\/Dependencies\/OverridingDependencies","doc:\/\/Dependencies\/documentation\/Dependencies\/Lifetimes","doc:\/\/Dependencies\/documentation\/Dependencies\/SingleEntryPointSystems"]},{"title":"Miscellaneous","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/ConcurrencySupport"]},{"title":"Dependency management","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/Dependency","doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyValues","doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyKey","doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyContext"]},{"title":"Concurrency support","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/ActorIsolated","doc:\/\/Dependencies\/documentation\/Dependencies\/LockIsolated","doc:\/\/Dependencies\/documentation\/Dependencies\/UncheckedSendable"]},{"title":"Structures","identifiers":["doc:\/\/Dependencies\/documentation\/Dependencies\/FireAndForget"]}],"references":{"doc://Dependencies/documentation/Dependencies/DependencyContext":{"role":"symbol","title":"DependencyContext","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyContext"}],"abstract":[{"type":"text","text":"A context for a collection of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyValues"},{"type":"text","text":"."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyContext","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DependencyContext"}],"url":"\/documentation\/dependencies\/dependencycontext"},"doc://Dependencies/documentation/Dependencies/LivePreviewTest":{"role":"article","title":"Live, preview, and test dependencies","abstract":[{"type":"text","text":"Learn how to provide different implementations of your dependencies for use in the live application,"},{"type":"text","text":" "},{"type":"text","text":"as well as in Xcode previews, and even in tests."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/LivePreviewTest","kind":"article","type":"topic","url":"\/documentation\/dependencies\/livepreviewtest"},"doc://Dependencies/documentation/Dependencies/ConcurrencySupport":{"role":"article","title":"Concurrency support","abstract":[{"type":"text","text":"Learn about the concurrency tools that come with the library that make writing tests and"},{"type":"text","text":" "},{"type":"text","text":"implementing dependencies easy."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/ConcurrencySupport","kind":"article","type":"topic","url":"\/documentation\/dependencies\/concurrencysupport"},"doc://Dependencies/documentation/Dependencies/DependencyKey":{"role":"symbol","title":"DependencyKey","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyKey"}],"abstract":[{"type":"text","text":"A key for accessing dependencies."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyKey","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DependencyKey"}],"url":"\/documentation\/dependencies\/dependencykey"},"doc://Dependencies/documentation/Dependencies/SingleEntryPointSystems":{"role":"article","title":"Single entry point systems","abstract":[{"type":"text","text":"Learn about “single entry point” systems, and why they are best suited for this dependencies"},{"type":"text","text":" "},{"type":"text","text":"library, although it is possible to use the library with non-single entry point systems."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/SingleEntryPointSystems","kind":"article","type":"topic","url":"\/documentation\/dependencies\/singleentrypointsystems"},"doc://Dependencies/documentation/Dependencies/RegisteringDependencies":{"role":"article","title":"Registering dependencies","abstract":[{"type":"text","text":"Learn how to register your own dependencies with the library so that they immediately become"},{"type":"text","text":" "},{"type":"text","text":"available from any part of your code base."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/RegisteringDependencies","kind":"article","type":"topic","url":"\/documentation\/dependencies\/registeringdependencies"},"doc://Dependencies/documentation/Dependencies/Dependency":{"role":"symbol","title":"Dependency","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Dependency"}],"abstract":[{"type":"text","text":"A property wrapper for accessing dependencies."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/Dependency","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Dependency"}],"url":"\/documentation\/dependencies\/dependency"},"doc://Dependencies/documentation/Dependencies/Lifetimes":{"role":"article","title":"Dependency lifetimes","abstract":[{"type":"text","text":"Learn about the lifetimes of dependencies, how to prolong the lifetime of a dependency, and how"},{"type":"text","text":" "},{"type":"text","text":"dependencies are inherited."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/Lifetimes","kind":"article","type":"topic","url":"\/documentation\/dependencies\/lifetimes"},"doc://Dependencies/documentation/Dependencies/DesigningDependencies":{"role":"article","title":"Designing dependencies","abstract":[{"type":"text","text":"Learn techniques on designing your dependencies so that they are most flexible for injecting into"},{"type":"text","text":" "},{"type":"text","text":"features and overriding for tests."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/DesigningDependencies","kind":"article","type":"topic","url":"\/documentation\/dependencies\/designingdependencies"},"doc://Dependencies/documentation/Dependencies/OverridingDependencies":{"role":"article","title":"Overriding dependencies","abstract":[{"type":"text","text":"Learn how dependencies can be changed at runtime so that certain parts of your application can use"},{"type":"text","text":" "},{"type":"text","text":"different dependencies."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/OverridingDependencies","kind":"article","type":"topic","url":"\/documentation\/dependencies\/overridingdependencies"},"doc://Dependencies/documentation/Dependencies/QuickStart":{"role":"article","title":"Quick start","abstract":[{"type":"text","text":"Learn the basics of getting started with the library before diving deep into all of its features."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/QuickStart","kind":"article","type":"topic","url":"\/documentation\/dependencies\/quickstart"},"doc://Dependencies/documentation/Dependencies/ActorIsolated":{"role":"symbol","title":"ActorIsolated","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"ActorIsolated"}],"abstract":[{"type":"text","text":"A generic wrapper for isolating a mutable value to an actor."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/ActorIsolated","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ActorIsolated"}],"url":"\/documentation\/dependencies\/actorisolated"},"doc://Dependencies/documentation/Dependencies/UncheckedSendable":{"role":"symbol","title":"UncheckedSendable","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"UncheckedSendable"}],"abstract":[{"type":"text","text":"A generic wrapper for turning any non-"},{"type":"codeVoice","code":"Sendable"},{"type":"text","text":" type into a "},{"type":"codeVoice","code":"Sendable"},{"type":"text","text":" one, in an unchecked"},{"type":"text","text":" "},{"type":"text","text":"manner."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/UncheckedSendable","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"UncheckedSendable"}],"url":"\/documentation\/dependencies\/uncheckedsendable"},"doc://Dependencies/documentation/Dependencies/FireAndForget":{"role":"symbol","title":"FireAndForget","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"FireAndForget"}],"abstract":[{"type":"text","text":"A type for creating unstructured tasks in production and structured tasks in tests."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/FireAndForget","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"FireAndForget"}],"url":"\/documentation\/dependencies\/fireandforget"},"doc://Dependencies/documentation/Dependencies/LockIsolated":{"role":"symbol","title":"LockIsolated","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockIsolated"}],"abstract":[{"type":"text","text":"A generic wrapper for isolating a mutable value with a lock."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/LockIsolated","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LockIsolated"}],"url":"\/documentation\/dependencies\/lockisolated"},"doc://Dependencies/documentation/Dependencies/UsingDependencies":{"role":"article","title":"Using dependencies","abstract":[{"type":"text","text":"Learn how to use the dependencies that are registered with the library."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/UsingDependencies","kind":"article","type":"topic","url":"\/documentation\/dependencies\/usingdependencies"},"doc://Dependencies/documentation/Dependencies/DependencyValues":{"role":"symbol","title":"DependencyValues","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyValues"}],"abstract":[{"type":"text","text":"A collection of dependencies that is globally available."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/DependencyValues","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DependencyValues"}],"url":"\/documentation\/dependencies\/dependencyvalues"},"doc://Dependencies/documentation/Dependencies/WhatAreDependencies":{"role":"article","title":"What are dependencies?","abstract":[{"type":"text","text":"Learn what dependencies are, how they complicate your code, and why you want to control them."}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies\/WhatAreDependencies","kind":"article","type":"topic","url":"\/documentation\/dependencies\/whataredependencies"},"doc://Dependencies/documentation/Dependencies":{"role":"collection","title":"Dependencies","abstract":[{"type":"text","text":"A dependency management library inspired by SwiftUI’s “environment.”"}],"identifier":"doc:\/\/Dependencies\/documentation\/Dependencies","kind":"symbol","type":"topic","url":"\/documentation\/dependencies"}}}